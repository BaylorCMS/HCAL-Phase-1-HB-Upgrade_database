{% extends "qie_cards/base.html" %}

{% block head %}
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="/static/qie_cards/js/makeplot.js"></script>
<style>
.splitColumns {
    -webkit-column-count: 3;
       -moz-column-count: 3;
            column-count: 3;
}
</style>
{% endblock %}

{% block title %}Database Plots{% endblock %}
{% block plots %}class="active"{% endblock %}
{% block content %}
<div>
    <div>
        <ul class="splitColumns">
            {% for test in tests %}
            <li><input type="checkbox" name="test" title="{{test.pk}}" id="{{test.abbreviation}}">{{test.name}}<br></li>
            {% endfor %}
        </ul>
    </div>
    <div>
        <button onclick="firstTests()" class="btn btn-primary">First Tests</button>
        <button onclick="secondTests()" class="btn btn-primary">Second Tests</button>
        <button onclick="allTests()" class="btn btn-primary">All Required Tests</button>
    </div>
    <button onclick="updateData()" class="btn btn-primary btn-block btn-large">Refresh Plot</button>
</div>

<div id="plot">
</div>

<script>
getData([109])
function updateData(){
    boxes = document.getElementsByName('test');
    tests = []
    for (i = 0; i < boxes.length; i++) {
        if(boxes[i].checked){
            tests.push(boxes[i].title);
        }
    }
    console.log(tests)
    getData(tests)
}
</script>
<script>
function firstTests(){
    tests=["Res_1",
           "Res_2",
           "Res_3",
           "Res_4",
           "Res_5",
           "Res_6",
           "Res_7",
           "Res_8",
           "Res_9",
           "Res_10",
           "Res_11",
           "Res_12",
           "Res_13",
           "Res_14",
           "Res_15",
           "Res_16",
           "Program",
           "Vis",
           "SuplCur",
           ];

    boxes = document.getElementsByName('test');
    for (i = 0; i < boxes.length; i++) {
        boxes[i].checked = false;
    }
    for(var i = 0; i < tests.length; i++){
        document.getElementById(tests[i]).checked = true;
    }
}

function secondTests(){
    notTests=[
            "Res_1",
            "Res_2",
            "Res_3",
            "Res_4",
            "Res_5",
            "Res_6",
            "Res_7",
            "Res_8",
            "Res_9",
            "Res_10",
            "Res_11",
            "Res_12",
            "Res_13",
            "Res_14",
            "Res_15",
            "Res_16",
            "Program",
            "Vis",
            "SuplCur",
            "overall phase scan",
            "ClockCnt",
            "QIECount",
            "WTECount",
            ];

    boxes = document.getElementsByName('test');
    for (i = 0; i < boxes.length; i++) {
        boxes[i].checked = true;
    }
    for(var i = 0; i < notTests.length; i++){
        document.getElementById(notTests[i]).checked = false;
    }
}
function allTests(){
    notTests=[
            "overall phase scan",
            "ClockCnt",
            "QIECount",
            "WTECount",
            ];

    boxes = document.getElementsByName('test');
    for (i = 0; i < boxes.length; i++) {
        boxes[i].checked = true;
    }
    for(var i = 0; i < notTests.length; i++){
        document.getElementById(notTests[i]).checked = false;
    }
}
</script>
{% endblock %}
